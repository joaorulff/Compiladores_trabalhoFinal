package compilador;

import java_cup.runtime.*;

/* Terminals */
terminal SUM, MINUS, MULTIPLICATION, DIVISION;
terminal ID, COMMA, INTEGER;
terminal OPEN, CLOSE;
terminal GREATERTHAN, LESSTHAN, EQUAL;
terminal DEF, IF, ELSE, THEN;
terminal ENDSTMT;

/* Nonterminals */
non terminal P, I, D, ARGS, SEQ, E;
non terminal OPREL, OPARIT;

/* Precedence */
precedence left SUM, MINUS;
precedence left MULTIPLICATION, DIVISION;
precedence left GREATERTHAN, LESSTHAN, EQUAL;
precedence left IF, ELSE, THEN;
precedence left OPEN, CLOSE;

/* Grammar */
start with P;

P ::= ID EQUAL INTEGER ENDSTMT P
    | I;
	
I ::= D I | D;

D ::= DEF ID OPEN ARGS CLOSE EQUAL E ENDSTMT;

ARGS ::= ID COMMA ARGS
	| ID;

SEQ ::= E 
	| SEQ COMMA E;

E ::= INTEGER
	| ID
	| E:e1 OPARIT E:e2
	| IF E:e1 OPREL E:e2 THEN E:e3 ELSE E:e4
    | ID OPEN SEQ CLOSE;

OPARIT ::= SUM | MINUS | MULTIPLICATION | DIVISION;
OPREL ::= EQUAL | GREATERTHAN | LESSTHAN;